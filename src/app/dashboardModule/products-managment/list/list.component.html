
<div class="px-1">

  <!-- FILTERS -->




  <div class="mt-12 space-y-16 sm:mt-16">
    <section ngModel="settings" aria-labelledby="4376-heading">
      <form #docForm="ngForm" (ngSubmit)="docForm">

      <div class="space-y-1 md:flex md:items-baseline md:space-y-0 md:space-x-4">
        <h2 id="4376-heading" class="text-lg font-medium text-gray-900 md:flex-shrink-0">Modules produits</h2>
        <p [ngClass]="settings">{{settings.page}}</p>
        <div class="space-y-5 sm:flex sm:items-baseline sm:justify-between sm:space-y-0 md:min-w-0 md:flex-1">
          <p class="text-sm font-medium text-gray-500">Module en attente de validation</p>
          <div class="flex text-sm font-medium">
            <a href="#" class="text-indigo-600 hover:text-indigo-500">Commandes</a>
            <div class="ml-4 border-l border-gray-200 pl-4 sm:ml-6 sm:pl-6">
              <a href="#" class="text-indigo-600 hover:text-indigo-500">Voir factures</a>
            </div>
          </div>
        </div>
      </div>

      <div class="bg-orange-100 rounded-md m-3 p-3">
        <div class="m-3">
          <div class="relative mt-2 rounded-md shadow-sm">
            <div class="pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3">
              <span class="text-gray-500 sm:text-sm block relative"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z" />
              </svg>

              </span>
            </div>
            <input *ngIf="settings.searchBy === 'mRef'" type="text" name="price" id="price" class="block w-full rounded-md border-0 py-1.5 pl-10 pr-20 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6" [(ngModel)]="settings.moduleRef" (ngModelChange)="modelChangeFn($event,'searchModuleRef')" placeholder="Rechercher...">
            <input *ngIf="settings.searchBy === 'mName'" type="text" name="price" id="price" class="block w-full rounded-md border-0 py-1.5 pl-10 pr-20 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6" [(ngModel)]="settings.moduleName" (ngModelChange)="modelChangeFn($event,'searchModuleName')" placeholder="Rechercher...">
            <div class="absolute inset-y-0 right-0 flex items-center">
              <label for="currency" class="sr-only">Currency</label>
              <select [(ngModel)]="settings.searchBy" (ngModelChange)="modelChangeFn($event,'searchBy')" id="currency" name="currency" class="h-full rounded-md border-0 bg-transparent py-0 pl-2 pr-7 text-gray-500 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm">
                <option selected value="mRef">Module Référence</option>
                <option value="pRef" >Product Référence (indisponible)</option>
                <option value="mName">Module Name (indisponible)</option>
              </select>
            </div>
          </div>
        </div>
        <div class="flex items-bottom  align-middle justify-between ">

          <div>
            <label for="location" class="block text-sm font-medium leading-6 text-gray-900">Langue</label>
            <select [(ngModel)]="settings.lang"  id="location" name="location" class="mt-2 block w-full rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6">
              <option selected value="fr">Français</option>
              <option value="en">Anglais</option>
            </select>
          </div>

          <div>
            <label for="location" class="block text-sm font-medium leading-6 text-gray-900">API</label>

            <button (click)="apiMode()" [id]="'api_mode_btn'" type="button" class="bg-gray-200 relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:ring-offset-2" role="switch" aria-checked="false">
              <span class="sr-only">API</span>
              <!-- Enabled: "translate-x-5", Not Enabled: "translate-x-0" -->
              <span [id]="'api_mode_switch'" class="translate-x-0 pointer-events-none relative inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out">
                <!-- Enabled: "opacity-0 duration-100 ease-out", Not Enabled: "opacity-100 duration-200 ease-in" -->
                <span [id]="'api_mode_uncheck'" class="opacity-100 duration-200 ease-in absolute inset-0 flex h-full w-full items-center justify-center transition-opacity" aria-hidden="true">
                  <svg class="h-3 w-3 text-gray-400" fill="none" viewBox="0 0 12 12">
                    <path d="M4 8l2-2m0 0l2-2M6 6L4 4m2 2l2 2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                  </svg>
                </span>
                <!-- Enabled: "opacity-100 duration-200 ease-in", Not Enabled: "opacity-0 duration-100 ease-out" -->
                <span [id]="'api_mode_checked'" class="opacity-0 duration-100 ease-out absolute inset-0 flex h-full w-full items-center justify-center transition-opacity" aria-hidden="true">
                  <svg class="h-3 w-3 text-indigo-600" fill="currentColor" viewBox="0 0 12 12">
                    <path d="M3.707 5.293a1 1 0 00-1.414 1.414l1.414-1.414zM5 8l-.707.707a1 1 0 001.414 0L5 8zm4.707-3.293a1 1 0 00-1.414-1.414l1.414 1.414zm-7.414 2l2 2 1.414-1.414-2-2-1.414 1.414zm3.414 2l4-4-1.414-1.414-4 4 1.414 1.414z" />
                  </svg>
                </span>
              </span>
            </button>
          </div>

          <div>
            <label for="location" class="block text-sm font-medium leading-6 text-gray-900">Par page</label>
            <select [(ngModel)]="settings.productsPerPage" [id]="'selectPerPage'" [ngModel]="settings.productsPerPage" (ngModelChange)="modelChangeFn($event,'perPage')" (change)="prodPerPage()" id="location" name="location" class="mt-2 block w-full rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6">
              <option selected value="{{settings.productsPerPage}}">{{settings.productsPerPage}}</option>

              <option *ngIf="this.settings.productsPerPage !== 10" value="10">10</option>
              <option *ngIf="this.settings.productsPerPage !== 50" value="50">50</option>
              <option *ngIf="this.settings.productsPerPage !== 100" value="100">100</option>
              <option *ngIf="this.settings.productsPerPage !== 250" value="250">250</option>

            </select>
          </div>
          <div>
              <label for="location" class="block text-sm font-medium leading-6 text-gray-900">Pages</label>

            <div class="relative flex items-center rounded-md bg-white shadow-sm md:items-stretch">

              <div class="pointer-events-none absolute inset-0 rounded-md ring-1 ring-inset ring-gray-300" aria-hidden="true"></div>
              <button *ngIf="this.settings.page > 1" (click)="settings.page = settings.page-1 ; this.getProducts()" type="button" class="flex items-center justify-center rounded-l-md py-2 pl-3 pr-4 text-gray-400 hover:text-gray-500 focus:relative md:w-9 md:px-2 md:hover:bg-gray-50">
                <span class="sr-only">Previous month</span>
                <svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                  <path fill-rule="evenodd" d="M12.79 5.23a.75.75 0 01-.02 1.06L8.832 10l3.938 3.71a.75.75 0 11-1.04 1.08l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 011.06.02z" clip-rule="evenodd" />
                </svg>
              </button>
              <button  type="button" class="hidden px-3.5 text-sm font-semibold text-gray-900 hover:bg-gray-50 focus:relative md:block">De {{(settings.page-1) * settings.productsPerPage}} à {{settings.productsPerPage*settings.page}}</button>
              <span class="relative -mx-px h-5 w-px bg-gray-300 md:hidden"></span>
              <button (click)="settings.page = settings.page+1; this.getProducts()" type="button" class="flex items-center justify-center rounded-r-md py-2 pl-4 pr-3 text-gray-400 hover:text-gray-500 focus:relative md:w-9 md:px-2 md:hover:bg-gray-50">
                <span class="sr-only">Next month</span>
                <svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                  <path fill-rule="evenodd" d="M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z" clip-rule="evenodd" />
                </svg>
              </button>
            </div>
          </div>

        </div>
      </div>
      <div *ngIf="settings.loading === true" class="flex m-3 w-64 h-64 align-center justify-center m-auto">
        <div [id]="'loader'" class="absolute flex flex-col w-64 h-64 bg-gradient-to-r from-gray-800 via-gray-500 to-gray-300 background-animate rounded-full verflow-hidden bg-white shadow z-50 justify-center align-center">
          <div class="px-4 py-5 sm:p-6 rounded-full bg-white w-32 h-32 xs:h-40 xs:w-40 justify-center opacity-75 align-center m-auto logo-animate ">
            <img src="assets/logo_leblanc.png" class="logo-move" alt="">
            <!-- Content goes here -->
          </div>

          <div role="status" class="absolute opacity-75 -translate-x-1/2 -translate-y-1/2 top-2/4 left-1/2" >
            <svg aria-hidden="true" class="w-full h-full mr-2 text-gray-200 animate-spin dark:text-gray-600 fill-red-600" viewBox="0 0 100 101" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z" fill="currentColor"/><path d="M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z" fill="currentFill"/></svg>
            <span class="sr-only">Loading...</span>
          </div>
          <div class="pointer-events-none fixed inset-x-0 bottom-0 sm:flex sm:justify-center sm:px-6 sm:pb-5 lg:px-8">
            <div class="pointer-events-auto flex items-center justify-between gap-x-6 bg-white px-6 py-2.5 sm:rounded-xl sm:py-3 sm:pl-4 sm:pr-3.5">
              <img src="assets/error_icon_0001.gif" alt="" width="10%">
              <p ng-model="message" class=" leading-6 text-gray-600">
                <a href="#"><strong class="font-semibold"></strong>Chargement...&nbsp;<span aria-hidden="true">&rarr;</span></a>
                <a class="text-sm">Chargement des produits...</a>
              </p>
              <button type="button" class="-m-1.5 flex-none p-1.5">
                <span class="sr-only">Dismiss</span>
                <svg class="h-5 w-5 text-white" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                  <path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z" />
                </svg>
              </button>
            </div>
          </div>
        </div>
      </div>

      <div *ngIf="products.length > 0" class="mt-6 -mb-6 flow-root divide-y divide-gray-200 border-t border-gray-200">
        <div *ngFor="let prod of products" class="py-6 sm:flex">
          <div *ngIf="prod.settings && prod.settings.edited === true" class="flex space-x-4 sm:min-w-0 sm:flex-1 sm:space-x-6 lg:space-x-8">
            <div class="sm:grid sm:grid-cols-3 sm:items-start sm:gap-4 sm:py-6">
              <div class="mt-2 sm:col-span-2 sm:mt-0">
                <div class="flex max-w-2xl justify-center rounded-lg border border-dashed border-gray-900/25 px-6 py-10">
                  <div class="text-center">
                    <svg class="mx-auto h-12 w-12 text-gray-300" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                      <path fill-rule="evenodd" d="M1.5 6a2.25 2.25 0 012.25-2.25h16.5A2.25 2.25 0 0122.5 6v12a2.25 2.25 0 01-2.25 2.25H3.75A2.25 2.25 0 011.5 18V6zM3 16.06V18c0 .414.336.75.75.75h16.5A.75.75 0 0021 18v-1.94l-2.69-2.689a1.5 1.5 0 00-2.12 0l-.88.879.97.97a.75.75 0 11-1.06 1.06l-5.16-5.159a1.5 1.5 0 00-2.12 0L3 16.061zm10.125-7.81a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0z" clip-rule="evenodd" />
                    </svg>
                    <div class="mt-4 flex text-sm leading-6 text-gray-600">
                      <label for="file-upload" class="relative cursor-pointer rounded-md bg-white font-semibold text-indigo-600 focus-within:outline-none focus-within:ring-2 focus-within:ring-indigo-600 focus-within:ring-offset-2 hover:text-indigo-500">
                        <span>Importer une image</span>
                        <input id="file-upload" name="file-upload" type="file" class="sr-only">
                      </label>
                      <!-- <p class="pl-1">or drag and drop</p> -->
                    </div>
                    <p class="text-xs leading-5 text-gray-600">PNG, JPG, GIF up to 10MB</p>
                  </div>
                </div>
              </div>
            </div>
            <div class="overflow-hidden rounded-lg border border-gray-300 shadow-sm focus-within:border-indigo-500 focus-within:ring-1 focus-within:ring-indigo-500 w-full">
              <label for="title" class="sr-only">Title</label>
              <input type="text" name="title" id="title" class="block w-full border-0 pt-2.5 text-lg font-medium placeholder:text-gray-400 focus:ring-0" placeholder="Titre" value="{{prod.productLang[0].name}}">
              <label for="description" class="sr-only">Description</label>

                <textarea  rows="2" name="description" id="description" class="block w-full h-fill resize-none border-0 py-0 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6" placeholder="E©rire une description..." value="{{prod.productLang[0].description}}"></textarea>


              <!-- Spacer element to match the height of the toolbar -->
              <div aria-hidden="true">
                <div class="py-2">
                  <div class="h-9"></div>
                </div>
                <div class="h-px"></div>
                <div class="py-2">
                  <div class="py-px">
                    <div class="h-9"></div>
                  </div>
                </div>
              </div>
            </div>

            <div class="absolute inset-x-px bottom-0">
              <!-- Actions: These are just examples to demonstrate the concept, replace/wire these up however makes sense for your project. -->
              <div class="flex flex-nowrap justify-end space-x-2 px-2 py-2 sm:px-3">
                <div class="flex-shrink-0">
                  <label id="listbox-label" class="sr-only">Assign</label>
                  <div class="relative">
                    <button type="button" class="relative inline-flex items-center whitespace-nowrap rounded-full bg-gray-50 px-2 py-2 text-sm font-medium text-gray-500 hover:bg-gray-100 sm:px-3" aria-haspopup="listbox" aria-expanded="true" aria-labelledby="listbox-label">
                      <!-- Placeholder icon, show/hide based on listbox state. -->
                      <svg class="h-5 w-5 flex-shrink-0 text-gray-300 sm:-ml-1" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                        <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-5.5-2.5a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0zM10 12a5.99 5.99 0 00-4.793 2.39A6.483 6.483 0 0010 16.5a6.483 6.483 0 004.793-2.11A5.99 5.99 0 0010 12z" clip-rule="evenodd" />
                      </svg>

                      <!-- Selected user avatar, show/hide based on listbox state. -->
                      <img src="https://images.unsplash.com/photo-1491528323818-fdd1faba62cc?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80" alt="" class="h-5 w-5 flex-shrink-0 rounded-full">

                      <!-- Selected: "text-gray-900" -->
                      <span class="hidden truncate sm:ml-2 sm:block">Assign</span>
                    </button>

                    <!--
                      Select popover, show/hide based on select state.

                      Entering: ""
                        From: ""
                        To: ""
                      Leaving: "transition ease-in duration-100"
                        From: "opacity-100"
                        To: "opacity-0"
                    -->
                    <ul class="absolute right-0 z-10 mt-1 max-h-56 w-52 overflow-auto rounded-lg bg-white py-3 text-base shadow ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm" tabindex="-1" role="listbox" aria-labelledby="listbox-label" aria-activedescendant="listbox-option-0">
                      <!--
                        Select option, manage highlight styles based on mouseenter/mouseleave and keyboard navigation.

                        Highlighted: "bg-gray-100", Not Highlighted: "bg-white"
                      -->
                      <li class="bg-white relative cursor-default select-none px-3 py-2" id="listbox-option-0" role="option">
                        <div class="flex items-center">
                          <svg class="h-5 w-5 flex-shrink-0 text-gray-400" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-5.5-2.5a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0zM10 12a5.99 5.99 0 00-4.793 2.39A6.483 6.483 0 0010 16.5a6.483 6.483 0 004.793-2.11A5.99 5.99 0 0010 12z" clip-rule="evenodd" />
                          </svg>
                          <span class="ml-3 block truncate font-medium">Unassigned</span>
                        </div>
                      </li>
                      <!--
                        Select option, manage highlight styles based on mouseenter/mouseleave and keyboard navigation.

                        Highlighted: "bg-gray-100", Not Highlighted: "bg-white"
                      -->
                      <li class="bg-white relative cursor-default select-none px-3 py-2" id="listbox-option-1" role="option">
                        <div class="flex items-center">
                          <img src="https://images.unsplash.com/photo-1491528323818-fdd1faba62cc?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80" alt="" class="h-5 w-5 flex-shrink-0 rounded-full">
                          <span class="ml-3 block truncate font-medium">Wade Cooper</span>
                        </div>
                      </li>

                      <!-- More items... -->
                    </ul>
                  </div>
                </div>

                <div class="flex-shrink-0">
                  <label id="listbox-label" class="sr-only">Add a label</label>
                  <div class="relative">
                    <button type="button" class="relative inline-flex items-center whitespace-nowrap rounded-full bg-gray-50 px-2 py-2 text-sm font-medium text-gray-500 hover:bg-gray-100 sm:px-3" aria-haspopup="listbox" aria-expanded="true" aria-labelledby="listbox-label">
                      <!-- Selected: "text-gray-300", Default: "text-gray-500" -->
                      <svg class="h-5 w-5 flex-shrink-0 text-gray-300 sm:-ml-1" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                        <path fill-rule="evenodd" d="M5.5 3A2.5 2.5 0 003 5.5v2.879a2.5 2.5 0 00.732 1.767l6.5 6.5a2.5 2.5 0 003.536 0l2.878-2.878a2.5 2.5 0 000-3.536l-6.5-6.5A2.5 2.5 0 008.38 3H5.5zM6 7a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd" />
                      </svg>
                      <!-- Selected: "text-gray-900" -->
                      <span class="hidden truncate sm:ml-2 sm:block">Label</span>
                    </button>

                    <!--
                      Select popover, show/hide based on select state.

                      Entering: ""
                        From: ""
                        To: ""
                      Leaving: "transition ease-in duration-100"
                        From: "opacity-100"
                        To: "opacity-0"
                    -->
                    <ul class="absolute right-0 z-10 mt-1 max-h-56 w-52 overflow-auto rounded-lg bg-white py-3 text-base shadow ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm" tabindex="-1" role="listbox" aria-labelledby="listbox-label" aria-activedescendant="listbox-option-0">
                      <!--
                        Select option, manage highlight styles based on mouseenter/mouseleave and keyboard navigation.

                        Highlighted: "bg-gray-100", Not Highlighted: "bg-white"
                      -->
                      <li class="bg-white relative cursor-default select-none px-3 py-2" id="listbox-option-0" role="option">
                        <div class="flex items-center">
                          <span class="block truncate font-medium">Unlabelled</span>
                        </div>
                      </li>
                      <!--
                        Select option, manage highlight styles based on mouseenter/mouseleave and keyboard navigation.

                        Highlighted: "bg-gray-100", Not Highlighted: "bg-white"
                      -->
                      <li class="bg-white relative cursor-default select-none px-3 py-2" id="listbox-option-1" role="option">
                        <div class="flex items-center">
                          <span class="block truncate font-medium">Engineering</span>
                        </div>
                      </li>

                      <!-- More items... -->
                    </ul>
                  </div>
                </div>

                <div class="flex-shrink-0">
                  <label id="listbox-label" class="sr-only">Add a due date</label>
                  <div class="relative">
                    <button type="button" class="relative inline-flex items-center whitespace-nowrap rounded-full bg-gray-50 px-2 py-2 text-sm font-medium text-gray-500 hover:bg-gray-100 sm:px-3" aria-haspopup="listbox" aria-expanded="true" aria-labelledby="listbox-label">
                      <!-- Selected: "text-gray-300", Default: "text-gray-500" -->
                      <svg class="h-5 w-5 flex-shrink-0 text-gray-300 sm:-ml-1" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                        <path fill-rule="evenodd" d="M5.75 2a.75.75 0 01.75.75V4h7V2.75a.75.75 0 011.5 0V4h.25A2.75 2.75 0 0118 6.75v8.5A2.75 2.75 0 0115.25 18H4.75A2.75 2.75 0 012 15.25v-8.5A2.75 2.75 0 014.75 4H5V2.75A.75.75 0 015.75 2zm-1 5.5c-.69 0-1.25.56-1.25 1.25v6.5c0 .69.56 1.25 1.25 1.25h10.5c.69 0 1.25-.56 1.25-1.25v-6.5c0-.69-.56-1.25-1.25-1.25H4.75z" clip-rule="evenodd" />
                      </svg>
                      <!-- Selected: "text-gray-900" -->
                      <span class="hidden truncate sm:ml-2 sm:block">Due date</span>
                    </button>

                    <!--
                      Select popover, show/hide based on select state.

                      Entering: ""
                        From: ""
                        To: ""
                      Leaving: "transition ease-in duration-100"
                        From: "opacity-100"
                        To: "opacity-0"
                    -->
                    <ul class="absolute right-0 z-10 mt-1 max-h-56 w-52 overflow-auto rounded-lg bg-white py-3 text-base shadow ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm" tabindex="-1" role="listbox" aria-labelledby="listbox-label" aria-activedescendant="listbox-option-0">
                      <!--
                        Select option, manage highlight styles based on mouseenter/mouseleave and keyboard navigation.

                        Highlighted: "bg-gray-100", Not Highlighted: "bg-white"
                      -->
                      <li class="bg-white relative cursor-default select-none px-3 py-2" id="listbox-option-0" role="option">
                        <div class="flex items-center">
                          <span class="block truncate font-medium">No due date</span>
                        </div>
                      </li>
                      <!--
                        Select option, manage highlight styles based on mouseenter/mouseleave and keyboard navigation.

                        Highlighted: "bg-gray-100", Not Highlighted: "bg-white"
                      -->
                      <li class="bg-white relative cursor-default select-none px-3 py-2" id="listbox-option-1" role="option">
                        <div class="flex items-center">
                          <span class="block truncate font-medium">Today</span>
                        </div>
                      </li>

                      <!-- More items... -->
                    </ul>
                  </div>
                </div>
              </div>
              <div class="flex items-center justify-between space-x-3 border-t border-gray-200 px-2 py-2 sm:px-3">
                <div class="flex">
                  <button type="button" class="group -my-2 -ml-2 inline-flex items-center rounded-full px-3 py-2 text-left text-gray-400">
                    <svg class="-ml-1 mr-2 h-5 w-5 group-hover:text-gray-500" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                      <path fill-rule="evenodd" d="M15.621 4.379a3 3 0 00-4.242 0l-7 7a3 3 0 004.241 4.243h.001l.497-.5a.75.75 0 011.064 1.057l-.498.501-.002.002a4.5 4.5 0 01-6.364-6.364l7-7a4.5 4.5 0 016.368 6.36l-3.455 3.553A2.625 2.625 0 119.52 9.52l3.45-3.451a.75.75 0 111.061 1.06l-3.45 3.451a1.125 1.125 0 001.587 1.595l3.454-3.553a3 3 0 000-4.242z" clip-rule="evenodd" />
                    </svg>
                    <span class="text-sm italic text-gray-500 group-hover:text-gray-600">Attach a file</span>
                  </button>
                </div>
                <div class="flex-shrink-0">
                  <button type="submit" class="inline-flex items-center rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">Create</button>
                </div>
              </div>
            </div>
          </div>
          <div *ngIf="!prod.settings || prod.settings.edited === false" class="flex space-x-4 sm:min-w-0 sm:flex-1 sm:space-x-6 lg:space-x-8">

            <img  src="https://files.etsleblanc.com/product/image/base/{{[prod.product[0].mpn]}}" alt="Brass puzzle in the shape of a jack with overlapping rounded posts." class="h-20 w-20 flex-none rounded-md object-cover object-center sm:h-48 sm:w-48">
            <div class="min-w-0 flex-1 pt-1.5 sm:pt-0">
              <h3 class="text-sm font-medium text-gray-900">
                <a href="#">{{prod.productLang[0].name}}</a>
                <span *ngIf="prod.product[0].active === 1" class="bg-green-50 ml-4 ring-green-600/20 rounded-md ring-inset ring-1 p-1">Actif</span>
                <span *ngIf="prod.product[0].active === 0" class="bg-red-50 ml-4 ring-red-600/20 rounded-md ring-inset ring-1 p-1">Inactif</span>
              </h3>
              <div class="flex flex-row justify-between">
                <p>
                  Module :
                  <span class="rounded-md whitespace-nowrap mt-0.5 px-1.5 py-0.5 text-xs font-medium ring-1 ring-inset text-green-700 bg-green-50 ring-green-600/20">{{prod.product[0].reference}}</span>
                </p>
                <p>
                  Ref. four :
                  <span class="rounded-md whitespace-nowrap mt-0.5 px-1.5 py-0.5 text-xs font-medium ring-1 ring-inset text-orange-700 bg-orange-50 ring-orange-600/20">{{prod.product[0].supplier_reference}}</span>
                </p>


              </div>
              <p class="truncate text-sm text-gray-500" [innerHTML]="prod.productLang[0].description">
                <span name="description"></span>
                <span class="mx-1 text-gray-400" aria-hidden="true">&middot;</span>
              </p>
              <p class="mt-1 font-medium text-gray-900"></p>
              <p class="mt-1 font-medium text-gray-900">{{prod.productSupplier[0].product_supplier_reference}}</p>
              <div *ngIf="prod.productAttribute.length > 0" class="mt-8 flow-root">
                <div class="-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8">
                  <div class="inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8">
                    <table class="min-w-full divide-y divide-gray-300">
                      <thead>
                        <tr>
                          <th scope="col" class="whitespace-nowrap py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0">Référence</th>
                          <th scope="col" class="whitespace-nowrap px-2 py-3.5 text-left text-sm font-semibold text-gray-900">EAN</th>
                          <th scope="col" class="whitespace-nowrap px-2 py-3.5 text-left text-sm font-semibold text-gray-900">Réf. Four</th>
                          <th scope="col" class="whitespace-nowrap px-2 py-3.5 text-left text-sm font-semibold text-gray-900">Location</th>
                          <th scope="col" class="whitespace-nowrap px-2 py-3.5 text-left text-sm font-semibold text-gray-900">Price</th>
                          <th scope="col" class="whitespace-nowrap px-2 py-3.5 text-left text-sm font-semibold text-gray-900">Qtté Min</th>
                          <th scope="col" class="whitespace-nowrap px-2 py-3.5 text-left text-sm font-semibold text-gray-900">Qtté</th>
                          <th scope="col" class="whitespace-nowrap px-2 py-3.5 text-left text-sm font-semibold text-gray-900">Poid</th>
                          <th scope="col" class="whitespace-nowrap px-2 py-3.5 text-left text-sm font-semibold text-gray-900">Date de disponibilité</th>
                          <th scope="col" class="relative whitespace-nowrap py-3.5 pl-3 pr-4 sm:pr-0">
                            <span class="sr-only">Edit</span>
                          </th>
                        </tr>
                      </thead>
                      <tbody class="divide-y divide-gray-200 bg-white">
                        <tr *ngFor="let attr of prod.productAttribute">
                          <td class="whitespace-nowrap py-2 pl-4 pr-3 text-sm text-gray-500 sm:pl-0">{{attr.reference}}</td>
                          <td class="whitespace-nowrap px-2 py-2 text-sm font-medium text-gray-900">{{attr.ean13}}</td>
                          <td class="whitespace-nowrap px-2 py-2 text-sm text-gray-900">{{attr.supplier_reference}}</td>
                          <td class="whitespace-nowrap px-2 py-2 text-sm text-gray-500">{{attr.location}}</td>
                          <td class="whitespace-nowrap px-2 py-2 text-sm text-gray-500">{{attr.price}} €</td>
                          <td class="whitespace-nowrap px-2 py-2 text-sm text-gray-500">{{attr.minimal_quantity}}</td>
                          <td class="whitespace-nowrap px-2 py-2 text-sm text-gray-500">{{attr.quantity}}</td>
                          <td class="whitespace-nowrap px-2 py-2 text-sm text-gray-500">{{attr.weight}}</td>
                          <td class="whitespace-nowrap px-2 py-2 text-sm text-gray-500">{{attr.available_date}}</td>
                          <td class="relative whitespace-nowrap py-2 pl-3 pr-4 text-right text-sm font-medium sm:pr-0">
                            <a href="#" class="text-indigo-600 hover:text-indigo-900">Edit<span class="sr-only">, AAPS0L</span></a>
                          </td>
                        </tr>

                        <!-- More transactions... -->
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="mt-6 space-y-4 sm:mt-0 sm:ml-6 sm:w-40 sm:flex-none">
            <button *ngIf="(!prod.settings || prod.settings.edited === false) && prod.product[0].active === 0" (click)="prod.product[0].active = 1 ; this.updateProduct(prod)" type="button" class="flex w-full items-center justify-center rounded-md border border-transparent bg-green-600 py-2 px-2.5 text-sm font-medium text-white shadow-sm hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 sm:w-full sm:flex-grow-0">Valider</button>
            <button *ngIf="!prod.settings || prod.settings.edited === false" (click)="setProd(prod, {edited: true})" type="button" class="flex w-full items-center justify-center rounded-md border border-orange-300 bg-white py-2 px-2.5 text-sm font-medium text-red-700 shadow-sm hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 sm:w-full sm:flex-grow-0">Modifier</button>
            <button *ngIf="prod.settings && prod.settings.edited === true" (click)="setProd(prod, {edited: false})" type="button" class="flex w-full items-center justify-center rounded-md border border-gray-300 bg-white py-2 px-2.5 text-sm font-medium text-red-700 shadow-sm hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 sm:w-full sm:flex-grow-0">Annuler</button>
            <button *ngIf="prod.settings && prod.settings.edited === true" (click)="setProd(prod, {edited: false})" type="button" class="flex w-full items-center justify-center rounded-md border border-transparent bg-green-600 py-2 px-2.5 text-sm font-medium text-white shadow-sm hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 sm:w-full sm:flex-grow-0">Enregistrer</button>
            <button *ngIf="(!prod.settings || prod.settings.edited === false) && prod.product[0].active === 0" type="button" class="flex w-full items-center justify-center rounded-md border border-red-300 bg-white py-2 px-2.5 text-sm font-medium text-red-700 shadow-sm hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:w-full sm:flex-grow-0">Rejeté</button>
            <button *ngIf="(!prod.settings || prod.settings.edited === false )&& prod.product[0].active === 1" (click)="prod.product[0].active = 0 ; this.updateProduct(prod)" type="button" class="flex w-full items-center justify-center rounded-md border border-red-300 bg-white py-2 px-2.5 text-sm font-medium text-red-700 shadow-sm hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:w-full sm:flex-grow-0">Désactiver</button>
          </div>
        </div>

        <!-- More products... -->
      </div>

      <div *ngIf="products.length === 0">
        <h2>Aucun résultat :_(</h2>
      </div>

    </form>

    </section>

    <!-- More orders... -->
  </div>
</div>
